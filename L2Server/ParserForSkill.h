#pragma once
// YY Parser
#include "yywclex.h"
#include "yywcpars.h"
#include "xwstring.h"
#include "PumpEffect.h"
#include "InstantEffect.h"

// namespaces
#ifdef YYSTDCPPLIB
using namespace std;
#endif
#ifdef YYNAMESPACE
using namespace yl;
#endif

#ifndef YYSTYPE
union tagYYSTYPE {
	wchar_t*	id_value;
	int			int_value;
	double		num_value;
	LPVOID		ptr_value;
	long double	lnum_value;
};

#define YYSTYPE union tagYYSTYPE
#endif

#define yyattribute(index) (((YYSTYPE*)yyattributestackptr)[yytop + (index)])
#define GET_PARAM(parser, index) (((YYSTYPE*)parser->yyattributestackptr)[parser->yytop + (index)])

enum BASE_DATA_TYPE
{
	BASE_ABNORMAL_DELETE_LEAVEWORLD = 65600,
	BASE_ABNORMAL_INSTANT = 65580,
	BASE_ABNORMAL_LV = 65575,
	BASE_ABNORMAL_TIME = 65574,
	BASE_ABNORMAL_TYPE = 65576,
	BASE_ABNORMAL_VISUAL_EFFECT = 65578,
	BASE_ACTIVATE_RATE = 65561,
	BASE_ADVANCE_BASE = 66009,
	BASE_AFFECT_LIMIT = 65586,
	BASE_AFFECT_OBJECT = 65589,
	BASE_AFFECT_RANGE = 65587,
	BASE_AFFECT_SCOPE = 65585,
	BASE_AFFECT_SCOPE_HEIGHT = 65590,
	BASE_ALL = 65998,
	BASE_ANCIENTSWORD = 66007,
	BASE_ARMOR_HEAVY = 66008,
	BASE_ARMOR_LIGHT = 66008,
	BASE_ARMOR_MAGIC = 66008,
	BASE_ARMOR_NONE = 66008,
	BASE_ARMOR_SIGIL = 66008,
	BASE_ARTILLERY = 66009,
	BASE_ATTACHED_SKILL = 65573,
	BASE_ATTR_EARTH = 66005,
	BASE_ATTR_FIRE = 66005,
	BASE_ATTR_HOLY = 66005,
	BASE_ATTR_NONE = 66005,
	BASE_ATTR_UNHOLY = 66005,
	BASE_ATTR_WATER = 66005,
	BASE_ATTR_WIND = 66005,
	BASE_ATTRIBUTE = 65595,
	BASE_BACK = 66004,
	BASE_BALAKAS_SCOPE = 66012,
	BASE_BASIC_PROPERTY = 65563,
	BASE_BLUNT = 66007,
	BASE_BOSS = 66015,
	BASE_BOW = 66007,
	BASE_BUFF_PROTECT_LEVEL = 65599,
	BASE_BUILD_ADVANCE_BASE = 65628,
	BASE_BUILD_CAMP = 65627,
	BASE_C_CHAMELEON_REST = 65994,
	BASE_C_FAKE_DEATH = 65996,
	BASE_C_HP = 65997,
	BASE_C_MP = 65992,
	BASE_C_MP_BY_LEVEL = 65995,
	BASE_C_REST = 65993,
	BASE_CAN_ADD_MAX_ENTRANCE_INZONE = 65608,
	BASE_CAN_BOOKMARK_ADD_SLOT = 65607,
	BASE_CAN_ENCHANT_ATTRIBUTE = 65674,
	BASE_CAN_MOUNT_FOR_EVENT = 65679,
	BASE_CAN_REFUEL_AIRSHIP = 65606,
	BASE_CAN_SUMMON = 65639,
	BASE_CAN_SUMMON_CUBIC = 65640,
	BASE_CAN_SUMMON_PET = 65638,
	BASE_CAN_SUMMON_SIEGE_GOLEM = 65641,
	BASE_CAN_TRANSFORM = 65613,
	BASE_CAN_TRANSFORM_IN_DOMINION = 65629,
	BASE_CAN_UNTRANSFORM = 65614,
	BASE_CAN_USE_IN_BATTLEFIELD = 65673,
	BASE_CAN_USE_SWOOP_CANNON = 65672,
	BASE_CANNOT_USE_IN_TRANSFORM = 65616,
	BASE_CAST_RANGE = 65552,
	BASE_CHECK_LEVEL = 65647,
	BASE_CHECK_SEX = 65646,
	BASE_CLAN = 66013,
	BASE_CONSUME_BODY = 65635,
	BASE_CONSUME_ETC = 65598,
	BASE_CROSSBOW = 66007,
	BASE_CUB_ATTACK_SPEED = 65828,
	BASE_CUB_BLOCK_ACT = 65829,
	BASE_CUB_HEAL = 65824,
	BASE_CUB_HP = 65825,
	BASE_CUB_HP_DRAIN = 65823,
	BASE_CUB_M_ATTACK = 65822,
	BASE_CUB_PHYSICAL_ATTACK = 65826,
	BASE_CUB_PHYSICAL_DEFENCE = 65827,
	BASE_DAGGER = 66007,
	BASE_DEAD_PLEDGE = 66012,
	BASE_DEBUFF = 65581,
	BASE_DIFF = 66003,
	BASE_DOOR_TREASURE = 66009,
	BASE_DUAL = 66007,
	BASE_DUALDAGGER = 66007,
	BASE_DUALFIST = 66007,
	BASE_EFFECT = 65564,
	BASE_EFFECT_POINT = 65577,
	BASE_EFFECTIVE_RANGE = 65551,
	BASE_END_EFFECT = 65569,
	BASE_ENEMY = 66009,
	BASE_ENEMY_ALL = 66015,
	BASE_ENEMY_ONLY = 66009,
	BASE_ENERGY_SAVED = 65636,
	BASE_EQUIP_SHIELD = 65625,
	BASE_EQUIP_WEAPON = 65622,
	BASE_FAIL_EFFECT = 65566,
	BASE_FAN = 66012,
	BASE_FAN_RANGE = 65588,
	BASE_FIST = 66007,
	BASE_FORTRESS_FLAGPOLE = 66009,
	BASE_FRIEND = 66013,
	BASE_FRONT = 66004,
	BASE_GROUND = 66009,
	BASE_HIDDEN_PLACE = 66013,
	BASE_HOLYTHING = 66009,
	BASE_HP_CONSUME = 65549,
	BASE_I_ABNORMAL_TIME_CHANGE = 65780,
	BASE_I_ADD_HATE = 65728,
	BASE_I_ADD_MAX_ENTRANCE_INZONE = 65684,
	BASE_I_ALIGN_DIRECTION = 65782,
	BASE_I_BACKSTAB = 65748,
	BASE_I_BETRAY = 65792,
	BASE_I_BLINK = 65686,
	BASE_I_BOOKMARK_ADD_SLOT = 65682,
	BASE_I_BOOKMARK_TELEPORT = 65683,
	BASE_I_CALL_PARTY = 65797,
	BASE_I_CALL_PC = 65793,
	BASE_I_CALL_SKILL = 65695,
	BASE_I_CAPTURE_FLAG = 65805,
	BASE_I_CAPTURE_FLAG_START = 65804,
	BASE_I_CAPTURE_OWNTHING = 65816,
	BASE_I_CAPTURE_OWNTHING_START = 65817,
	BASE_I_CHANGE_FACE = 65765,
	BASE_I_CHANGE_HAIR_COLOR = 65767,
	BASE_I_CHANGE_HAIR_STYLE = 65766,
	BASE_I_CHANGE_SKILL_LEVEL = 65794,
	BASE_I_COLLECTING = 65818,
	BASE_I_CONFUSE = 65741,
	BASE_I_CONSUME_BODY = 65743,
	BASE_I_CONVERT_ITEM = 65806,
	BASE_I_CP = 65769,
	BASE_I_DEATH = 65783,
	BASE_I_DEATH_LINK = 65751,
	BASE_I_DEFUSE_TRAP = 65693,
	BASE_I_DELETE_HATE = 65732,
	BASE_I_DELETE_HATE_OF_ME = 65750,
	BASE_I_DESPAWN = 65820,
	BASE_I_DETECT_OBJECT = 65807,
	BASE_I_DETECT_TRAP = 65692,
	BASE_I_DISMOUNT_FOR_EVENT = 65809,
	BASE_I_DISPEL_ALL = 65752,
	BASE_I_DISPEL_BY_CATEGORY = 65718,
	BASE_I_DISPEL_BY_SLOT = 65702,
	BASE_I_DISPEL_BY_SLOT_MYSELF = 65703,
	BASE_I_DISPEL_BY_SLOT_PROBABILITY = 65781,
	BASE_I_DISTRUST = 65749,
	BASE_I_ENCHANT_ARMOR = 65719,
	BASE_I_ENCHANT_ARMOR_RATE = 65723,
	BASE_I_ENCHANT_ATTRIBUTE = 65721,
	BASE_I_ENCHANT_WEAPON = 65720,
	BASE_I_ENCHANT_WEAPON_RATE = 65722,
	BASE_I_ENERGY_ATTACK = 65736,
	BASE_I_ESCAPE = 65712,
	BASE_I_EVENT_AGATHION_REUSE_DELAY = 65821,
	BASE_I_FATAL_BLOW = 65706,
	BASE_I_FISHING_CAST = 65774,
	BASE_I_FISHING_PUMPING = 65775,
	BASE_I_FISHING_REELING = 65776,
	BASE_I_FISHING_SHOT = 65777,
	BASE_I_FLY_AWAY = 65755,
	BASE_I_FLY_SELF = 65756,
	BASE_I_FOCUS_ENERGY = 65734,
	BASE_I_FOCUS_MAX_ENERGY = 65735,
	BASE_I_FOCUS_SOUL = 65689,
	BASE_I_FOOD_FOR_PET = 65754,
	BASE_I_GET_AGRO = 65812,
	BASE_I_GIVE_CONTRIBUTION = 65764,
	BASE_I_HARVESTING = 65762,
	BASE_I_HEAL = 65708,
	BASE_I_HOLYTHING_POSSESS = 65729,
	BASE_I_HP = 65713,
	BASE_I_HP_BY_LEVEL_SELF = 65744,
	BASE_I_HP_DRAIN = 65709,
	BASE_I_HP_PER_MAX = 65724,
	BASE_I_HP_SELF = 65763,
	BASE_I_INSTALL_ADVANCE_BASE = 65814,
	BASE_I_INSTALL_CAMP = 65730,
	BASE_I_INSTALL_CAMP_EX = 65789,
	BASE_I_M_ATTACK = 65710,
	BASE_I_M_ATTACK_BY_ABNORMAL = 65688,
	BASE_I_M_ATTACK_BY_DIST = 65773,
	BASE_I_M_ATTACK_BY_RANGE = 65696,
	BASE_I_M_ATTACK_MP = 65790,
	BASE_I_M_ATTACK_OVER_HIT = 65758,
	BASE_I_M_ATTACK_RANGE = 65798,
	BASE_I_M_SOUL_ATTACK = 65711,
	BASE_I_MOUNT_FOR_EVENT = 65808,
	BASE_I_MP = 65714,
	BASE_I_MP_BY_LEVEL = 65726,
	BASE_I_MP_BY_LEVEL_SELF = 65745,
	BASE_I_MP_PER_MAX = 65725,
	BASE_I_MY_SUMMON_KILL = 65819,
	BASE_I_NPC_KILL = 65791,
	BASE_I_OPEN_COMMON_RECIPEBOOK = 65779,
	BASE_I_OPEN_DWARF_RECIPEBOOK = 65778,
	BASE_I_P_ATTACK = 65704,
	BASE_I_P_ATTACK_BY_DIST = 65799,
	BASE_I_P_SOUL_ATTACK = 65705,
	BASE_I_PCBANG_POINT_UP = 65727,
	BASE_I_PHYSICAL_ATTACK_HP_LINK = 65771,
	BASE_I_PLEDGE_SEND_SYSTEM_MESSAGE = 65801,
	BASE_I_RANDOMIZE_HATE = 65733,
	BASE_I_REAL_DAMAGE = 65802,
	BASE_I_REBALANCE_HP = 65784,
	BASE_I_REFUEL_AIRSHIP = 65681,
	BASE_I_REGISTER_SIEGE_GOLEM = 65757,
	BASE_I_REMOVE_SOUL = 65690,
	BASE_I_RESTORATION = 65759,
	BASE_I_RESTORATION_RANDOM = 65760,
	BASE_I_RESURRECTION = 65716,
	BASE_I_RUN_AWAY = 65742,
	BASE_I_SET_SKILL = 65810,
	BASE_I_SKILL_TURNING = 65796,
	BASE_I_SOUL_BLOW = 65707,
	BASE_I_SOUL_SHOT = 65737,
	BASE_I_SOWING = 65761,
	BASE_I_SP = 65770,
	BASE_I_SPIRIT_SHOT = 65738,
	BASE_I_SPOIL = 65746,
	BASE_I_STEAL_ABNORMAL = 65687,
	BASE_I_SUMMON = 65717,
	BASE_I_SUMMON_AGATHION = 65697,
	BASE_I_SUMMON_CUBIC = 65685,
	BASE_I_SUMMON_NPC = 65768,
	BASE_I_SUMMON_PET = 65753,
	BASE_I_SUMMON_SOUL_SHOT = 65739,
	BASE_I_SUMMON_SPIRIT_SHOT = 65740,
	BASE_I_SUMMON_TRAP = 65691,
	BASE_I_SWEEPER = 65747,
	BASE_I_TARGET_CANCEL = 65786,
	BASE_I_TARGET_ME = 65787,
	BASE_I_TELEPORT = 65788,
	BASE_I_TELEPORT_TO_TARGET = 65813,
	BASE_I_TRANSFER_HATE = 65694,
	BASE_I_UNINSTALL_ADVANCE_BASE = 65815,
	BASE_I_UNLOCK = 65731,
	BASE_I_UNSUMMON_AGATHION = 65698,
	BASE_I_VP_UP = 65811,
	BASE_IA_EARTH = 66016,
	BASE_IA_FIRE = 66016,
	BASE_IA_HOLY = 66016,
	BASE_IA_UNHOLY = 66016,
	BASE_IA_WATER = 66016,
	BASE_IA_WIND = 66016,
	BASE_INVENTORY_NORMAL = 66014,
	BASE_INVENTORY_WAIST = 66014,
	BASE_INVISIBLE = 66013,
	BASE_IRREPLACEABLE_BUFF = 65582,
	BASE_IS_MAGIC = 65540,
	BASE_ITEM = 66009,
	BASE_ITEM_CONSUME = 65550,
	BASE_LEVEL = 65543,
	BASE_LV_BONUS_RATE = 65562,
	BASE_MAGIC_LEVEL = 65541,
	BASE_MOB = 66015,
	BASE_MP_CONSUME1 = 65545,
	BASE_MP_CONSUME2 = 65546,
	BASE_MP_CONSUME_TICK = 65547,
	BASE_MULTI_CLASS = 65579,
	BASE_MY_PARTY = 66009,
	BASE_NEXT_ACTION = 65591,
	BASE_NOT_FRIEND = 66013,
	BASE_NPC_BODY = 66009,
	BASE_OBJECT_DEAD_NPC_BODY = 66013,
	BASE_OP_2H_WEAPON = 65652,
	BASE_OP_ALIGNMENT = 65661,
	BASE_OP_BLINK = 65678,
	BASE_OP_CALL_PC = 65663,
	BASE_OP_CAN_ESCAPE = 65670,
	BASE_OP_CHANGE_WEAPON = 65620,
	BASE_OP_CHECK_ABNORMAL = 65619,
	BASE_OP_CHECK_CAST_RANGE = 65618,
	BASE_OP_CHECK_CLASS = 65664,
	BASE_OP_CHECK_CLASS_LIST = 65665,
	BASE_OP_CHECK_FLAG = 65675,
	BASE_OP_CHECK_PCBANG_POINT = 65621,
	BASE_OP_CHECK_RESIDENCE = 65677,
	BASE_OP_COMPANION = 65654,
	BASE_OP_ENCHANT_RANGE = 65671,
	BASE_OP_ENCUMBERED = 65662,
	BASE_OP_ENERGY_MAX = 65648,
	BASE_OP_EXIST_NPC = 65667,
	BASE_OP_FISHING_CAST = 65656,
	BASE_OP_FISHING_PUMPING = 65657,
	BASE_OP_FISHING_REELING = 65657,
	BASE_OP_HOME = 65650,
	BASE_OP_NEED_AGATHION = 65612,
	BASE_OP_NOT_TERRITORY = 65660,
	BASE_OP_RESURRECTION = 65644,
	BASE_OP_SIEGE_HAMMER = 65643,
	BASE_OP_SKILL = 65611,
	BASE_OP_SOUL_MAX = 65649,
	BASE_OP_SWEEPER = 65642,
	BASE_OP_TARGET_NPC = 65669,
	BASE_OP_TERRITORY = 65659,
	BASE_OP_UNLOCK = 65653,
	BASE_OP_USE_FIRECRACKER = 65655,
	BASE_OP_WYVERN = 65651,
	BASE_OPERATE_COND = 65558,
	BASE_OPERATE_TYPE = 65544,
	BASE_OTHERS = 66009,
	BASE_P_2H_BLUNT_BONUS = 65906,
	BASE_P_2H_SWORD_BONUS = 65905,
	BASE_P_ABNORMAL_RATE_LIMIT = 65934,
	BASE_P_AREA_DAMAGE = 65903,
	BASE_P_ATTACK_ATTRIBUTE = 65863,
	BASE_P_ATTACK_RANGE = 65878,
	BASE_P_ATTACK_SPEED = 65854,
	BASE_P_ATTACK_SPEED_BY_HP2 = 65917,
	BASE_P_ATTACK_SPEED_BY_WEAPON = 65883,
	BASE_P_ATTACK_TRAIT = 65865,
	BASE_P_AVOID = 65858,
	BASE_P_AVOID_AGRO = 65893,
	BASE_P_AVOID_BY_MOVE_MODE = 65888,
	BASE_P_AVOID_RATE_BY_HP1 = 65914,
	BASE_P_AVOID_RATE_BY_HP2 = 65915,
	BASE_P_AVOID_SKILL = 65962,
	BASE_P_BETRAY = 65954,
	BASE_P_BLOCK_ACT = 65868,
	BASE_P_BLOCK_ATTACK = 65837,
	BASE_P_BLOCK_BUFF = 65939,
	BASE_P_BLOCK_BUFF_SLOT = 65941,
	BASE_P_BLOCK_CHAT = 65983,
	BASE_P_BLOCK_CONTROLL = 65869,
	BASE_P_BLOCK_DEBUFF = 65940,
	BASE_P_BLOCK_GETDAMAGE = 65871,
	BASE_P_BLOCK_MOVE = 65867,
	BASE_P_BLOCK_PARTY = 65984,
	BASE_P_BLOCK_RESURRECTION = 65982,
	BASE_P_BLOCK_SKILL_PHYSICAL = 65937,
	BASE_P_BLOCK_SKILL_SPECIAL = 65938,
	BASE_P_BLOCK_SPELL = 65870,
	BASE_P_BREATH = 65890,
	BASE_P_CHANGE_FISHING_MASTERY = 65960,
	BASE_P_CHANNEL_CLAN = 65959,
	BASE_P_CHEAPSHOT = 65988,
	BASE_P_COUNTER_SKILL = 65963,
	BASE_P_CP_REGEN = 65952,
	BASE_P_CREATE_COMMON_ITEM = 65853,
	BASE_P_CREATE_ITEM = 65852,
	BASE_P_CRITICAL_DAMAGE = 65880,
	BASE_P_CRITICAL_DAMAGE_POSITION = 65945,
	BASE_P_CRITICAL_RATE = 65879,
	BASE_P_CRITICAL_RATE_BY_HP1 = 65908,
	BASE_P_CRITICAL_RATE_BY_HP2 = 65909,
	BASE_P_CRITICAL_RATE_POSITION_BONUS = 65919,
	BASE_P_CRYSTAL_GRADE_MODIFY = 65991,
	BASE_P_CRYSTALLIZE = 65857,
	BASE_P_CUBIC_MASTERY = 65898,
	BASE_P_DAMAGE_SHIELD = 65891,
	BASE_P_DEFENCE_ATTRIBUTE = 65864,
	BASE_P_DEFENCE_CRITICAL_DAMAGE = 65840,
	BASE_P_DEFENCE_CRITICAL_RATE = 65839,
	BASE_P_DEFENCE_TRAIT = 65866,
	BASE_P_DISARM = 65838,
	BASE_P_DOMINION_TRANSFORM = 65986,
	BASE_P_ENLARGE_ABNORMAL_SLOT = 65950,
	BASE_P_ENLARGE_STORAGE = 65949,
	BASE_P_EXP_MODIFY = 65989,
	BASE_P_EXPAND_DECO_SLOT = 65965,
	BASE_P_FATAL_BLOW_RATE = 65918,
	BASE_P_FEAR = 65872,
	BASE_P_FISHING_MASTERY = 65933,
	BASE_P_HATE_ATTACK = 65979,
	BASE_P_HEAL_EFFECT = 65902,
	BASE_P_HEAL_EFFECT_ADD = 65850,
	BASE_P_HIDE = 65978,
	BASE_P_HIT = 65876,
	BASE_P_HIT_AT_NIGHT = 65904,
	BASE_P_HIT_NUMBER = 65951,
	BASE_P_HP_REGEN = 65844,
	BASE_P_HP_REGEN_BY_MOVE_MODE = 65886,
	BASE_P_LIMIT_CP = 65969,
	BASE_P_LIMIT_HP = 65967,
	BASE_P_LIMIT_MP = 65968,
	BASE_P_LUCK = 65859,
	BASE_P_MAGIC_CRITICAL_DMG = 65974,
	BASE_P_MAGIC_CRITICAL_RATE = 65924,
	BASE_P_MAGIC_DEFENCE_CRITICAL_DMG = 65973,
	BASE_P_MAGIC_MP_COST = 65925,
	BASE_P_MAGIC_SPEED = 65855,
	BASE_P_MAGIC_SPEED_BY_WEAPON = 65884,
	BASE_P_MAGICAL_ATTACK = 65877,
	BASE_P_MAGICAL_ATTACK_ADD = 65849,
	BASE_P_MAGICAL_DEFENCE = 65860,
	BASE_P_MANA_CHARGE = 65900,
	BASE_P_MAX_CP = 65875,
	BASE_P_MAX_HP = 65873,
	BASE_P_MAX_MP = 65874,
	BASE_P_MAX_MP_ADD = 65847,
	BASE_P_MP_REGEN = 65845,
	BASE_P_MP_REGEN_ADD = 65846,
	BASE_P_MP_REGEN_BY_MOVE_MODE = 65887,
	BASE_P_MP_VAMPIRIC_ATTACK = 65981,
	BASE_P_PASSIVE = 65892,
	BASE_P_PHYSICAL_ARMOR_HIT = 65922,
	BASE_P_PHYSICAL_ATTACK = 65842,
	BASE_P_PHYSICAL_ATTACK_BY_HP1 = 65910,
	BASE_P_PHYSICAL_ATTACK_BY_HP2 = 65911,
	BASE_P_PHYSICAL_DEFENCE = 65843,
	BASE_P_PHYSICAL_DEFENCE_BY_HP1 = 65912,
	BASE_P_PHYSICAL_POLARM_TARGET_SINGLE = 65923,
	BASE_P_PHYSICAL_SHIELD_DEFENCE = 65921,
	BASE_P_PHYSICAL_SHIELD_DEFENCE_ANGLE_ALL = 65926,
	BASE_P_PK_PROTECT = 65964,
	BASE_P_PRESERVE_ABNORMAL = 65948,
	BASE_P_PVP_MAGICAL_SKILL_DEFENCE_BONUS = 65930,
	BASE_P_PVP_MAGICAL_SKILL_DMG_BONUS = 65929,
	BASE_P_PVP_PHYSICAL_ATTACK_DEFENCE_BONUS = 65931,
	BASE_P_PVP_PHYSICAL_ATTACK_DMG_BONUS = 65927,
	BASE_P_PVP_PHYSICAL_SKILL_DEFENCE_BONUS = 65932,
	BASE_P_PVP_PHYSICAL_SKILL_DMG_BONUS = 65928,
	BASE_P_RECOVERY_VP = 65977,
	BASE_P_REDUCE_CANCEL = 65882,
	BASE_P_REDUCE_DROP_PENALTY = 65920,
	BASE_P_REFLECT_DD = 65980,
	BASE_P_REFLECT_SKILL = 65942,
	BASE_P_REMOVE_EQUIP_PENALTY = 65856,
	BASE_P_RESIST_ABNORMAL_BY_CATEGORY = 65947,
	BASE_P_RESIST_DD_MAGIC = 65841,
	BASE_P_RESIST_DISPEL_BY_CATEGORY = 65946,
	BASE_P_RESURRECTION_SPECIAL = 65961,
	BASE_P_REUSE_DELAY = 65881,
	BASE_P_SAFE_FALL_HEIGHT = 65889,
	BASE_P_SET_CLOAK_SLOT = 65897,
	BASE_P_SET_COLLECTED = 65896,
	BASE_P_SHIELD_DEFENCE_RATE = 65885,
	BASE_P_SKILL_CRITICAL = 65943,
	BASE_P_SKILL_CRITICAL_PROBABILITY = 65944,
	BASE_P_SKILL_POWER = 65971,
	BASE_P_SOUL_EATING = 65836,
	BASE_P_SP_MODIFY = 65990,
	BASE_P_SPEED = 65851,
	BASE_P_STAT_UP = 65987,
	BASE_P_TARGET_ME = 65966,
	BASE_P_TRANSFER_DAMAGE_PC = 65835,
	BASE_P_TRANSFER_DAMAGE_SUMMON = 65901,
	BASE_P_TRANSFORM = 65833,
	BASE_P_TRANSFORM_HANGOVER = 65834,
	BASE_P_TRIGGER_SKILL_BY_ATTACK = 65956,
	BASE_P_TRIGGER_SKILL_BY_AVOID = 65958,
	BASE_P_TRIGGER_SKILL_BY_DMG = 65955,
	BASE_P_TRIGGER_SKILL_BY_SKILL = 65957,
	BASE_P_VAMPIRIC_ATTACK = 65907,
	BASE_P_VIOLET_BOY = 65985,
	BASE_P_WEIGHT_LIMIT = 65894,
	BASE_P_WEIGHT_PENALTY = 65899,
	BASE_PARTY = 66012,
	BASE_PARTY_PLEDGE = 66012,
	BASE_PASSIVE_CONDITIONS = 65560,
	BASE_PC_BODY = 66009,
	BASE_PER = 66003,
	BASE_PK = 66015,
	BASE_PLEDGE = 66012,
	BASE_POINT_BLANK = 66012,
	BASE_POLE = 66007,
	BASE_POSSESS_HOLYTHING = 65626,
	BASE_PVE_EFFECT = 65572,
	BASE_PVP_EFFECT = 65571,
	BASE_RACE_CONSTRUCT = 66011,
	BASE_RACE_DIVINE = 66011,
	BASE_RACE_HUMANOID = 66011,
	BASE_RACE_KAMAEL = 66011,
	BASE_RACE_UNDEAD = 66011,
	BASE_RANGE = 66012,
	BASE_RAPIER = 66007,
	BASE_RECIPE_COMMON = 66014,
	BASE_RECIPE_DWARVEN = 66014,
	BASE_REMAIN_CP_PER = 65632,
	BASE_REMAIN_HP_PER = 65630,
	BASE_REMAIN_MP_PER = 65631,
	BASE_REUSE_DELAY = 65556,
	BASE_REUSE_DELAY_LOCK = 65597,
	BASE_REUSE_DELAY_TYPE = 65594,
	BASE_RIDE_STATE = 65583,
	BASE_SELF = 66009,
	BASE_SELF_EFFECT = 65570,
	BASE_SIDE = 66004,
	BASE_SINGLE = 66012,
	BASE_SKILL_BEGIN = 65538,
	BASE_SKILL_COOL_TIME = 65554,
	BASE_SKILL_END = 65592,
	BASE_SKILL_HIT_CANCEL_TIME = 65555,
	BASE_SKILL_HIT_TIME = 65553,
	BASE_SKILL_ID = 65542,
	BASE_SKILL_NAME = 65539,
	BASE_SOUL_SAVED = 65637,
	BASE_SQUARE = 66012,
	BASE_SQUARE_PB = 66012,
	BASE_START_EFFECT = 65565,
	BASE_STATIC_OBJECT_SCOPE = 66012,
	BASE_STORAGE_PRIVATE = 66014,
	BASE_SUMMON = 66009,
	BASE_SWORD = 66007,
	BASE_T_HP = 65830,
	BASE_T_HP_FATAL = 65832,
	BASE_T_MP = 65831,
	BASE_TARGET = 66009,
	BASE_TARGET_ITEM_CRYSTAL_TYPE = 65623,
	BASE_TARGET_MY_PARTY = 65633,
	BASE_TARGET_MY_PLEDGE = 65634,
	BASE_TARGET_OPERATE_COND = 65559,
	BASE_TARGET_RACE = 65624,
	BASE_TARGET_TYPE = 65584,
	BASE_TICK_EFFECT = 65567,
	BASE_TICK_INTERVAL = 65568,
	BASE_TRADE_BUY = 66014,
	BASE_TRADE_SELL = 66014,
	BASE_TRAIT = 65596,
	BASE_TRAIT_ANCIENTSWORD = 66006,
	BASE_TRAIT_ANIMAL_WEAKNESS = 66006,
	BASE_TRAIT_BEAST_WEAKNESS = 66006,
	BASE_TRAIT_BLEED = 66006,
	BASE_TRAIT_BLUNT = 66006,
	BASE_TRAIT_BOSS = 66006,
	BASE_TRAIT_BOW = 66006,
	BASE_TRAIT_BUG_WEAKNESS = 66006,
	BASE_TRAIT_CONSTRUCT_WEAKNESS = 66006,
	BASE_TRAIT_CROSSBOW = 66006,
	BASE_TRAIT_DAGGER = 66006,
	BASE_TRAIT_DEATH = 66006,
	BASE_TRAIT_DERANGEMENT = 66006,
	BASE_TRAIT_DRAGON_WEAKNESS = 66006,
	BASE_TRAIT_DUAL = 66006,
	BASE_TRAIT_DUALDAGGER = 66006,
	BASE_TRAIT_DUALFIST = 66006,
	BASE_TRAIT_ETC = 66006,
	BASE_TRAIT_FIST = 66006,
	BASE_TRAIT_GIANT_WEAKNESS = 66006,
	BASE_TRAIT_GUST = 66006,
	BASE_TRAIT_HOLD = 66006,
	BASE_TRAIT_NONE = 66006,
	BASE_TRAIT_PARALYZE = 66006,
	BASE_TRAIT_PHYSICAL_BLOCKADE = 66006,
	BASE_TRAIT_PLANT_WEAKNESS = 66006,
	BASE_TRAIT_POISON = 66006,
	BASE_TRAIT_POLE = 66006,
	BASE_TRAIT_RAPIER = 66006,
	BASE_TRAIT_ROOT_PHYSICALLY = 66006,
	BASE_TRAIT_SHOCK = 66006,
	BASE_TRAIT_SLEEP = 66006,
	BASE_TRAIT_SWORD = 66006,
	BASE_TRAIT_TURN_STONE = 66006,
	BASE_TRAIT_VALAKAS = 66006,
	BASE_TRANSFORM_TYPE = 65601,
	BASE_UNDEAD_REAL_ENEMY = 66013,
	BASE_WEAPON_ETC = 66007,
	BASE_WYVERN_OBJECT = 66013,
	BASE_WYVERN_SCOPE = 66012,
	BASE_WYVERN_TARGET = 66009
};

enum DATA_TYPE
{
	DATA_NONE = 0,
	DATA_P_BLOCK_EXP = 1,
	DATA_I_RIDE_WYVERN = 2,
	DATA_P_BONUS_EXP = 3,
	DATA_P_BONUS_SP = 4,
	DATA_P_BONUS_DROP = 5,
	DATA_P_BONUS_SPOIL = 6,
	DATA_TRAIT_WATER = 7,
	DATA_TRAIT_FIRE = 8,
	DATA_TRAIT_WIND = 9,
	DATA_TRAIT_EARTH = 10,
	DATA_TRAIT_HOLY = 11,
	DATA_TRAIT_UNHOLY = 12,
	DATA_I_ATTACK_ME = 13,
	DATA_P_BLOCK_BUFF_EX = 14
};

class CLexerForSkill : public yywflexer
{
	friend class CParserForSkill;
public:
	virtual yywint_t yylex() { return 0; };  // fake
	virtual yywint_t yyaction(int action) {};
protected:
	__int64			dwC0;
	__int64			dwC8;
public:
	int				dwD0; // D0h
	int				dwD4; // D4h
	__int64			iD8; // D8h
	CLexerForSkill(bool bFakeInstance);
	CLexerForSkill() {};
};

extern "C"
{
	void TraitExtend();
	void TraitExtendWrapper(CSkillInfo *pSI);
};

class CParserForSkill
{
	bool requestChangeType;
	DATA_TYPE dataType;
	map<DATA_TYPE, BASE_DATA_TYPE> mDataType;
	map<wstring, DATA_TYPE> mName;
public:
	CParserForSkill();
	~CParserForSkill();
	void Init();
	void AddEffect(wstring name, DATA_TYPE type, BASE_DATA_TYPE baseType);
	static UINT ChangeToken(CLexerForSkill* lpInstance);
	static const WCHAR* GetString(LPVOID param);
	static CSkillEffect* CreatePumpEffect(UINT64 size);
	static CSkillEffect* CreatePumpEffectOneParam(UINT64 size);
	static CSkillEffect* CreateInstantEffect(UINT64 size);
	static CSkillEffect* CreateInstantEffectOneParam(UINT64 size);
	static CSkillEffect_p_defence_trait* CreateDefenceTrait(CSkillEffect_p_defence_trait* pEffect, UINT traitType, double value);
	static void AddAttackTrait(LPVOID lpContainer, CSkillEffect_p_attack_trait** lpEffect);
	static void TraitSkillInfo(CSkillInfo *pSI);
};

extern CParserForSkill g_ParserForSkill;